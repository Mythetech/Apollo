@using Apollo.Components.Infrastructure.MessageBus
@using Apollo.Components.Infrastructure.Environment
@using Apollo.Components.NuGet.Commands
@using Apollo.Components.Tools.Commands
@using Apollo.Components.Theme
@using MouseEvent = MudBlazor.MouseEvent

<MudMenu Label="Tools" Dense ActivationEvent="MouseEvent.MouseOver">
    <MudMenuItem Icon="@ApolloIcons.NuGet" OnClick="@(async () => await Bus.PublishAsync(new OpenNuGetDialog()))">
        NuGet Packages
    </MudMenuItem>
    <MudMenuItem Icon="@ApolloIcons.Search" OnClick="@(async () => await Bus.PublishAsync(new OpenRegexTesterDialog()))">
        Regex Tester
    </MudMenuItem>
    @if (Environment.IsDevelopment())
    {
        <MudMenuItem Icon="@ApolloIcons.Events" OnClick="@(async () => await Bus.PublishAsync(new OpenEventViewerDialog()))">
            Event Viewer
        </MudMenuItem>
    }
    <MudMenu StartIcon="@ApolloIcons.Guid" Label="Generate GUID">
        <MudMenuItem Icon="@ApolloIcons.Guid" OnClick="@(async () => await Bus.PublishAsync(new GenerateGuid()))">
            GUID
        </MudMenuItem>
        <MudMenuItem Icon="@ApolloIcons.GuidV7" OnClick="@(async () => await Bus.PublishAsync(new GenerateGuidV7()))">
            GUID v7 (Timestamp)
        </MudMenuItem>
    </MudMenu>
</MudMenu>

@code {
    [Inject] public IMessageBus Bus { get; set; } = default!;
    [Inject] public IRuntimeEnvironment Environment { get; set; } = default!;
}

